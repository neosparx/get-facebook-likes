var GFL=GFL||{};GFL.events=[],GFL.subscribe=function(e,n){"undefined"==typeof GFL.events[e]&&(GFL.events[e]=[]),GFL.events[e].push(n)},GFL.fire=function(e,n){if("undefined"!=typeof GFL.events[e])for(var t=0;t<GFL.events[e].length;++t)GFL.events[e][t]instanceof Function&&("undefined"!=typeof n?GFL.events[e][t](n):GFL.events[e][t]())};var GFL_Main={init:function(){FB.Event.subscribe("edge.create",function(e){GFL_Main.fireAndUpdate("edge.create",e)}),FB.Event.subscribe("edge.remove",function(e){GFL_Main.fireAndUpdate("edge.remove",e)}),FB.Event.subscribe("comment.create",function(e){GFL_Main.fireAndUpdate("comment.create",e)}),FB.Event.subscribe("comment.remove",function(e){GFL_Main.fireAndUpdate("comment.remove",e)})},fireAndUpdate:function(e,n){GFL.fire(e,n),GFL_Main.update(n)},update:function(e){GFL.fire("update.before"),jQuery.post(GFL.ajax_url,{action:"nopriv_update_likes",url:e},function(e){GFL.fire("update.response",e)}),GFL.fire("update.after")}};